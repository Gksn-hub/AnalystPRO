cat > requirements.txt <<'EOF'
fastapi==0.112.2
uvicorn[standard]==0.30.6
EOF

cat > main.py <<'EOF'
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware

app = FastAPI()

allowed_origins = [
    "https://gksn-hub.github.io",
    "https://gksn-hub.github.io/AnalystPRO"
]

app.add_middleware(
    CORSMiddleware,
    allow_origins=allowed_origins,
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

@app.get("/health")
def health():
    return {"ok": True}

@app.get("/api/hello")
def hello():
    return {"message": "Hello from AnalystPro FastAPI"}
EOF

# Tell Railway how to start
cat > Procfile <<'EOF'
web: uvicorn main:app --host 0.0.0.0 --port ${PORT}
EOF

git add .
git commit -m "Add FastAPI service for Railway"
git push origin main
